# Review Old Backup and Unreferenced Files for Sensitive Information (fa-IR)

فایل های پشتیبان قدیمی و بدون مرجع را برای اطلاعات حساس مرور کنید (فارسی)

|شناسه          |
|------------|
|WSTG-CONF-04|

## خلاصه

در حالی که بیشتر فایل‌های داخل یک وب سرور مستقیماً توسط خود سرور مدیریت می‌شوند، یافتن فایل‌های ارجاع‌نشده یا فراموش‌شده‌ای که می‌توان از آنها برای به دست آوردن اطلاعات مهم در مورد زیرساخت یا اعتبارنامه‌ها استفاده کرد، غیرمعمول نیست.

رایج‌ترین سناریوها شامل وجود نسخه‌های قدیمی تغییر نام‌داده‌شده از فایل‌های اصلاح‌شده، فایل‌های گنجانده‌شده که به زبان انتخابی بارگیری می‌شوند و می‌توانند به عنوان منبع دانلود شوند، یا حتی پشتیبان‌گیری خودکار یا دستی در قالب بایگانی‌های فشرده است. فایل‌های پشتیبان را می‌توان به‌طور خودکار توسط سیستم فایلی که برنامه روی آن میزبانی می‌شود، تولید کرد، ویژگی که معمولاً به آن "عکس‌های فوری (snapshots)" می‌گویند.

همه این فایل‌ها ممکن است به آزمایش‌کننده اجازه دسترسی به کارهای داخلی، درهای پشتی، رابط‌های اداری، یا حتی اعتبار برای اتصال به رابط اداری یا سرور پایگاه داده را بدهند.

یک منبع مهم آسیب‌پذیری در فایل‌هایی نهفته است که هیچ ارتباطی با برنامه ندارند، اما در نتیجه ویرایش فایل‌های برنامه، یا پس از ایجاد نسخه‌های پشتیبان در جریان، یا با گذاشتن فایل‌های قدیمی یا بدون مرجع در درخت وب ایجاد می‌شوند. انجام ویرایش در محل یا سایر اقدامات مدیریتی بر روی سرورهای وب تولیدی ممکن است به طور ناخواسته نسخه‌های پشتیبان را برجای بگذارد، یا به‌طور خودکار توسط ویرایشگر هنگام ویرایش فایل‌ها یا توسط مدیری که مجموعه‌ای از فایل‌ها را فشرده می‌کند تا یک نسخه پشتیبان ایجاد کند، ایجاد می‌شود.

به راحتی می توان چنین فایل هایی را فراموش کرد و این ممکن است یک تهدید امنیتی جدی برای برنامه باشد. این اتفاق می‌افتد زیرا ممکن است نسخه‌های پشتیبان با پسوندهای فایل متفاوت از فایل‌های اصلی تولید شوند. یک بایگانی `tar`، `.zip.` یا `gz.` که ما تولید می کنیم (و فراموش می کنیم...) بدیهی است که پسوند متفاوتی دارد، و همین امر در مورد کپی های خودکار ایجاد شده توسط بسیاری از ویرایشگرها اتفاق می افتد (به عنوان مثال، emacs هنگام ویرایش `file`، یک نسخه پشتیبان به نام `~file` ایجاد می کند). کپی کردن با دست ممکن است همان اثر را ایجاد کند (به کپی کردن `file` در `file.old` فکر کنید). سیستم فایل زیربنایی که برنامه روی آن قرار دارد می‌تواند بدون اطلاع شما در مقاطع مختلف زمانی از برنامه شما `snapshots` (عکس‌های فوری) تهیه کند، که ممکن است از طریق وب نیز قابل دسترسی باشد، که تهدیدی مشابه اما متفاوت با سبک `backup file` (فایل پشتیبان) برای برنامه شما ایجاد می‌کند.

در نتیجه، این فعالیت‌ها فایل‌هایی تولید می‌کنند که مورد نیاز برنامه نیستند و ممکن است متفاوت از فایل اصلی توسط وب سرور مدیریت شوند. برای مثال، اگر یک کپی از `login.asp` بنام `login.asp.old` ایجاد کنیم، به کاربران اجازه می‌دهیم کد منبع `login.asp` را دانلود کنند. این به این دلیل است که `login.asp.old` معمولاً به‌عنوان متن یا ساده ارائه می‌شود، نه اینکه به دلیل پسوند آن اجرا شود. به عبارت دیگر، دسترسی `login.asp` باعث اجرای کد سمت سرور `login.asp` می شود، در حالی که دسترسی `login.asp.old` باعث می شود محتوای `login.asp.old` (که دوباره کد سمت سرور است) به طور واضح به کاربر بازگردانده شود و در مرورگر نمایش داده شود. این ممکن است خطرات امنیتی ایجاد کند، زیرا ممکن است اطلاعات حساس فاش شود.

به طور کلی، افشای کد سمت سرور ایده بدی است. نه تنها منطق کسب و کار را به طور غیر ضروری افشا می کنید، بلکه ممکن است ناآگاهانه اطلاعات مربوط به برنامه را که ممکن است به مهاجم کمک کند (نام مسیرها، ساختارهای داده و غیره) فاش کنید. ناگفته نماند که اسکریپت های بسیار زیادی با نام کاربری و رمز عبور تعبیه شده در متن واضح وجود دارد (که یک عمل بی دقت و بسیار خطرناک است).

دلایل دیگر فایل‌های ارجاع‌نشده به دلیل انتخاب‌های طراحی یا پیکربندی است که اجازه می‌دهند انواع فایل‌های مرتبط با برنامه مانند فایل‌های داده، فایل‌های پیکربندی، فایل‌های گزارش، در فهرست‌های سیستم فایل ذخیره شوند که توسط وب سرور قابل دسترسی است. این فایل‌ها معمولاً دلیلی برای قرار گرفتن در یک فضای فایل سیستمی ندارند که می‌توان از طریق وب به آن‌ها دسترسی پیدا کرد، زیرا باید فقط در سطح برنامه، توسط خود برنامه (و نه توسط کاربر معمولی در حال مرور اطراف) به آنها دسترسی داشت.
